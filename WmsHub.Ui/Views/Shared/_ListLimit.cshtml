@model System.Int32
<div class="nhsuk-grid-row">
  <div class="nhsuk-form-group nhsuk-grid-column-one-quarter" style="float:right; text-align:right;">
    <label class="nhsuk-label" style="display:inline" for="limit-select">Show</label>
    <select class="nhsuk-select" id="limit-select" name="limit-select" onchange="limitChanged()">
      <option value="25">25</option>
      <option value="50">50</option>
      <option value="0">All</option>
    </select>
    <label class="nhsuk-label" style="display:inline">of @Model</label>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script type="text/javascript">

    function limitChanged() {
      var limit = document.getElementById("limit-select").value;
      document.getElementById("Search_Limit").value = limit;

      $('#referralSearch').submit();
    }

    $(document).ready(function () {

      var existingLimit = document.getElementById("Search_Limit");

      if(existingLimit.value == null || existingLimit.value == '') {
        existingLimit.value = 25;
      } else {
        $('#limit-select').val(existingLimit.value);
      }
    })

  </script>
