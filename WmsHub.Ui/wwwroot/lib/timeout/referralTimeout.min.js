!function (e, i) { "use strict"; e.fn.referralTimeout = function (n) { var t, o, s, a, u, c, r, l, d, m, f = e.extend({ idleNotification: 3e5, sessionRemaining: 3e5 }, n), g = 0, T = function (e) { clearTimeout(t), c = 0, a = (new Date).getTime(), t = setTimeout(function () { w(e) }, 100) }, h = function (i) { var n, t; r += 100, m = (new Date).getTime() - u - r, r >= f.sessionRemaining - g ? y("endsession") : (1e3 === (l += 100) && 0 !== s && (s -= 1, e("#sessioncountdown").html((n = s, ((t = Math.floor(n / 60)) < 10 ? "0" + t : t) + ":" + ((n -= 60 * t) < 10 ? "0" + n : n))), l = 0), o = setTimeout(function () { h(i) }, 100 - m)) }, w = function (e) { c += 100, d = (new Date).getTime() - a - c; var i = (new Date).getTime() - a; i >= f.idleNotification + f.sessionRemaining && y("endsession"), c === f.idleNotification ? (g = (i -= 1e3) > c ? f.sessionRemaining - (i - c) : 0, v()) : t = setTimeout(function () { w(e) }, 100 - d) }, v = function () { var i; i = "DialogTimer", clearTimeout(o), r = 0, l = 0, u = (new Date).getTime(), s = Math.floor((f.sessionRemaining - g) / 1e3), o = setTimeout(function () { h(i) }, 100), e('<div id="notifyLogout"><p>For your security your session will end in <span id="sessioncountdown">' + s + "</span> due to inactivity. Select End Session to end it now otherwise select Continue to stay logged in.</p></div>").dialog({ title: "Session Timeout", classes: { "ui-dialog-titlebar-close": "hidden" }, modal: !0, width: "auto", maxWidth: 300, height: "auto", fluid: !0, resizable: !1, draggable: !1, closeOnEscape: !1, buttons: { Continue: function () { e.ajax({ url: "/serviceUser/session-ping", context: document.body }), e(this).dialog("close"), e(this).empty(), e(this).remove(), clearTimeout(o), T("IdleTimer") }, "End Session": function () { y() } } }) }, y = function (e) { clearTimeout(t), clearTimeout(o); return i.location.replace("/serviceUser/session-ended") }; return this.each(function () { T("IdleTimer") }) } }(jQuery, window);